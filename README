# ğŸŒ¤ï¸ Extraindo Dados MeteorolÃ³gicos com FastAPI

Este projeto tem como objetivo ***coletar, armazenar e disponibilizar dados meteorolÃ³gicos*** de diferentes cidades utilizando **Python, FastAPI e PostgreSQL**.  
A aplicaÃ§Ã£o consome dados de uma API externa, salva as informaÃ§Ãµes localmente em um banco de dados e disponibiliza endpoints REST para consulta e gerenciamento.

---

## âš™ï¸ Tecnologias Utilizadas

- Python 3.10+
- FastAPI
- Uvicorn
- Requests
- PostgreSQL
- psycopg2
- dotenv

---

## ğŸ“‚ Estrutura do Projeto

extraindo-dados/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api.py          # Endpoints da aplicaÃ§Ã£o (FastAPI)
â”‚   â”œâ”€â”€ database.py     # ConexÃ£o e operaÃ§Ãµes no PostgreSQL
â”‚   â”œâ”€â”€ dataWeather.py  # IntegraÃ§Ã£o com API externa de clima
â”‚   â””â”€â”€ main.py         # Script auxiliar para criaÃ§Ã£o/populaÃ§Ã£o inicial do banco
â”‚
â”œâ”€â”€ .env.example        # Exemplo de variÃ¡veis de ambiente
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md

---

## ğŸ§  InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

1. **Clone o repositÃ³rio:**
   ```git clone https://github.com/seu-usuario/extraindo-dados.git```
   cd extraindo-dados

2. **Crie e ative o ambiente virtual:**

python -m venv venv
  # (bash)
venv\Scripts\activate
  # (Windows)
source venv/bin/activate
  # (Linux/Mac)


3. **Instale as dependÃªncias:**

`pip install -r requirements.txt`

4. **Crie um arquivo .env baseado no .env.example:**

# API de clima
API_KEY=your_api_key_here

# Banco de Dados PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=weather_data
DB_USER=postgres
DB_PASSWORD=your_password

âš ï¸ VariÃ¡veis de ambiente

As variÃ¡veis sensÃ­veis nÃ£o sÃ£o versionadas por seguranÃ§a.
Para executar corretamente, crie um arquivo .env baseado no .env.example, contendo:
- Chave da API de clima
- Credenciais do banco PostgreSQL
- Essas variÃ¡veis devem estar disponÃ­veis no ambiente antes da execuÃ§Ã£o da aplicaÃ§Ã£o.

---

5. **Execute a aplicaÃ§Ã£o:**

``uvicorn app.api:app --reload``

6. **Acesse a documentaÃ§Ã£o interativa:**

Obs: verifique no seu terminal a porta que sua api estÃ¡ sendo rodada, a minha estÃ¡ rodando na 8000
Ex:
Swagger UI â†’ http://127.0.0.1:8000/docs

---

## ğŸ³ Executando com Docker (Recomendado)

Este projeto estÃ¡ totalmente containerizado, facilitando a execuÃ§Ã£o sem necessidade de configurar ambiente local ou banco de dados manualmente.

â–¶ï¸ Subir a aplicaÃ§Ã£o com Docker Compose
```docker-compose up --build```

ğŸ§ª Teste rÃ¡pido do container
```docker run -p 8000:8000 weather-api```
Se aparecer algo como:

```Uvicorn running on http://0.0.0.0:8000```
âœ… O Docker estÃ¡ funcionando corretamente.

ApÃ³s a inicializaÃ§Ã£o:
API disponÃ­vel em:
ğŸ‘‰ http://localhost:8000

Swagger UI:
ğŸ‘‰ http://localhost:8000/docs

---

**ğŸ§  Funcionalidades**

âœ… Buscar dados meteorolÃ³gicos de uma cidade especÃ­fica
âœ… Salvar os dados no banco de dados PostgreSQL
âœ… Consultar todos os registros armazenados
âœ… API documentada automaticamente via Swagger

**ğŸ“¡ Endpoints Principais**

| MÃ©todo  | Endpoint       | DescriÃ§Ã£o                                                  |
| :------ | :------------- | :--------------------------------------------------------- |
| **GET** | `/weather`     | Consulta dados climÃ¡ticos de uma cidade (e salva no banco) |
| **GET** | `/weather/all` | Retorna todos os registros salvos no PostgreSQL            |



**ğŸ’¾ Exemplo de Resposta /weather?city=Florianopolis**

{
  "message": "Dados de Florianopolis salvos com sucesso!"
}

**ğŸ§± Banco de Dados (PostgreSQL)**
A tabela weather Ã© criada automaticamente no primeiro uso:

#CREATE TABLE IF NOT EXISTS weather (
#    id SERIAL PRIMARY KEY,
#    city VARCHAR(100),
#    temperature REAL,
#    humidity INTEGER,
#    description VARCHAR(255),
#    date TIMESTAMP
#);
    


**ğŸš€ PrÃ³ximos Passos (Melhorias Futuras)**

 - Adicionar autenticaÃ§Ã£o por token
 - Implementar filtros por cidade e data
 - Criar dashboard com visualizaÃ§Ã£o dos dados
 - Containerizar com Docker.

ğŸ‘¨â€ğŸ’» Autor

John Helder
Desenvolvedor promissor que curte dados e soluÃ§Ãµes inteligentes.
ğŸ“§ johnheldercs@gmail.com

ğŸ’¼ [LinkedIn](https://www.linkedin.com/in/john-helder)


ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT.
